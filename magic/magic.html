<!doctype html>
<html lang="ru">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>–ü—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–µ</title>

<style>
  html,body{
    height:100%;
    margin:0;
    font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial;
    background: radial-gradient(1200px 800px at 20% 10%, #ffffff 0%, #fff7da 45%, #fff2c0 100%);
    overflow:hidden;
    color:#111;
  }

  /* ---------- –°–ù–ï–ì ---------- */
  #snow{
    position:fixed;
    inset:0;
    z-index:1;
    pointer-events:none;
  }

  /* ---------- –§–û–ù –° –ê–°–°–ï–¢–ê–ú–ò ---------- */
  .bg{
    position:fixed;
    inset:0;
    z-index:0;
    pointer-events:none;
  }

  /* üîπ –°–õ–û–¢ 1 ‚Äî GIF */
  .bg-gif{
    position:absolute;
    right: 16px;
    bottom: 16px;
    width: 140px;
    opacity:0.35;
  }

  /* üîπ –°–õ–û–¢ 2 ‚Äî PNG */
  .bg-png-1{
    position:absolute;
    left: 20px;
    bottom: 24px;
    width: 120px;
    opacity:0.25;
  }

  /* üîπ –°–õ–û–¢ 3 ‚Äî PNG */
  .bg-png-2{
    position:absolute;
    right: 20px;
    top: 60px;
    width: 110px;
    opacity:0.25;
  }

  /* ---------- –ö–û–ù–¢–ï–ù–¢ ---------- */
  .wrap{
    position:relative;
    z-index:2;
    height:100%;
    display:flex;
    align-items:center;
    justify-content:center;
    padding:20px;
    text-align:center;
  }

  .ui{
    width:min(560px,100%);
    display:flex;
    flex-direction:column;
    align-items:center;
    gap:14px;
  }

  h1{
    margin:0;
    font-size:20px;
    font-weight:800;
  }

  .subtitle{
    font-size:13px;
    opacity:.65;
  }

  /* ---------- –°–ü–ò–†–ê–õ–¨ ---------- */
  .spiral-wrap{
    position:relative;
    width:230px;
    height:230px;
    display:grid;
    place-items:center;
    margin:10px 0;
    filter: drop-shadow(0 18px 40px rgba(0,0,0,0.12));
  }

  /* –®–ê–† */
  .ball{
    position:absolute;
    inset:10px;
    border-radius:50%;
    background:
      radial-gradient(circle at 30% 28%, rgba(255,255,255,.9), rgba(255,255,255,0) 45%),
      radial-gradient(circle at 55% 65%, #FFEFA3 0%, #FFD900 55%, #F5C400 100%);
  }

  /* –ü–û–í–û–†–û–¢–ù–´–ô –ë–õ–û–ö (–≤–∞–∂–Ω–æ: transform –æ—Å—Ç–∞—ë—Ç—Å—è –ø–æ—Å–ª–µ –∞–Ω–∏–º–∞—Ü–∏–∏) */
  .spinner{
    width:230px;
    height:230px;
    display:grid;
    place-items:center;
    transform-origin:50% 50%;
    will-change: transform;
    transform: rotate(0deg);
  }

  .spiral{
    width:210px;
    height:210px;
  }

  /* ---------- –¢–ï–ö–°–¢ ---------- */
  .status{
    font-size:13px;
    opacity:.65;
    min-height:18px;
  }

  .pred{
    font-size:18px;
    font-weight:700;
    min-height:56px;
  }

  /* ---------- –ö–ù–û–ü–ö–ê ---------- */
  .btn{
    width:min(360px,100%);
    border:0;
    border-radius:18px;
    padding:14px 16px;
    font-size:16px;
    font-weight:800;
    background:#111;
    color:#fff;
    cursor:pointer;
  }

  .btn:disabled{
    opacity:.6;
    cursor:not-allowed;
  }
</style>
</head>

<body>

<canvas id="snow"></canvas>

<!-- ===== –§–û–ù –° –ê–°–°–ï–¢–ê–ú–ò ===== -->
<div class="bg">
  <!-- GIF —Å–Ω–µ–∂–∏–Ω–∫–∏ -->
  <img src="https://i.ibb.co/5h7sM3k/snow.gif" class="bg-gif" alt="">

  <!-- PNG —ë–ª–∫–∞ -->
  <img src="https://i.ibb.co/cSnfSkTd/Chat-GPT-Image-14-2025-02-07-11.png" class="bg-png-1" alt="">

  <!-- webp PNG-—ç–∫–≤–∏–≤–∞–ª–µ–Ω—Ç -->
  <img src="https://3dbuy.ru/uploads/images_main/dc/eb/700_700_143497-SvJWbHRXZP.webp" class="bg-png-2" alt="">
</div>

<div class="wrap">
  <div class="ui">
    <h1>–ü—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–µ –Ω–∞ –≥–æ–¥</h1>
    <div class="subtitle">–ù–∞–∂–º–∏ –∫–Ω–æ–ø–∫—É ‚Äî —Å–ø–∏—Ä–∞–ª—å–∫–∞ –ø—Ä–æ–∫—Ä—É—Ç–∏—Ç—Å—è</div>

    <div class="spiral-wrap" id="spinZone">
      <div class="ball"></div>

      <div class="spinner" id="spinner">
        <svg class="spiral" viewBox="0 0 220 220">
          <path id="spiralPath"
            fill="none"
            stroke="#111"
            stroke-width="12"
            stroke-linecap="round"
            stroke-linejoin="round"/>
        </svg>
      </div>
    </div>

    <div class="status" id="status">–ì–æ—Ç–æ–≤–æ</div>
    <div class="pred" id="pred">‚Ä¶</div>

    <button class="btn" id="btn">–ü–æ–ª—É—á–∏—Ç—å –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–µ</button>
  </div>
</div>

<script>
/* ===== –°–ü–ò–†–ê–õ–¨ ===== */
function buildSpiralPath(){
  const cx=110, cy=110, a=2, b=3.55;
  const max=5.35*Math.PI, step=.1;
  let d="", first=true;

  for(let t=0;t<=max;t+=step){
    const r=a+b*t;
    const x=cx+r*Math.cos(t);
    const y=cy+r*Math.sin(t);
    d+=`${first?"M":"L"} ${x.toFixed(2)} ${y.toFixed(2)} `;
    first=false;
  }
  return d;
}
document.getElementById("spiralPath").setAttribute("d", buildSpiralPath());

/* ===== –ü–†–ï–î–°–ö–ê–ó–ê–ù–ò–Ø ===== */
const PREDICTIONS=[
  "–≠—Ç–æ—Ç –≥–æ–¥ –±—É–¥–µ—Ç –ø—Ä–æ –ø—Ä–æ—Å—Ç—ã–µ –∏ –≤–µ—Ä–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è.",
  "–í–µ—Å–Ω–æ–π –ø–æ—è–≤–∏—Ç—Å—è —à–∞–Ω—Å, –∫–æ—Ç–æ—Ä—ã–π –Ω–µ–ª—å–∑—è –æ—Ç–∫–ª–∞–¥—ã–≤–∞—Ç—å.",
  "–¢—ã —Å–¥–µ–ª–∞–µ—à—å —à–∞–≥, –∫–æ—Ç–æ—Ä—ã–π –¥–æ–ª–≥–æ –±–æ—è–ª—Å—è —Å–¥–µ–ª–∞—Ç—å.",
  "–í —ç—Ç–æ–º –≥–æ–¥—É —Ç—ã —É–¥–∏–≤–∏—à—å—Å—è —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ–π —Å–º–µ–ª–æ—Å—Ç–∏.",
  "–ö –∫–æ–Ω—Ü—É –≥–æ–¥–∞ –º–Ω–æ–≥–æ–µ –≤—Å—Ç–∞–Ω–µ—Ç –Ω–∞ —Å–≤–æ–∏ –º–µ—Å—Ç–∞."
];

const btn=document.getElementById("btn");
const pred=document.getElementById("pred");
const status=document.getElementById("status");
const spinner=document.getElementById("spinner");

const sleep=(ms)=>new Promise(r=>setTimeout(r,ms));
const pick=()=>PREDICTIONS[Math.floor(Math.random()*PREDICTIONS.length)];

/* ===== –í–†–ê–©–ï–ù–ò–ï: –û–°–¢–ê–ù–ê–í–õ–ò–í–ê–ï–¢–°–Ø –ò –û–°–¢–ê–Å–¢–°–Ø –ù–ê –ú–ï–°–¢–ï ===== */
let currentAngle = 0;   // –Ω–∞–∫–∞–ø–ª–∏–≤–∞–µ–º —É–≥–æ–ª –º–µ–∂–¥—É –∫–ª–∏–∫–∞–º–∏
let anim = null;

async function spinToNewAngle(){
  // —Å–∫–æ–ª—å–∫–æ –æ–±–æ—Ä–æ—Ç–æ–≤ —Å–¥–µ–ª–∞—Ç—å (2‚Äì4) + –¥–æ–∫—Ä—É—Ç–∏—Ç—å —Å–ª—É—á–∞–π–Ω–æ 0‚Äì359
  const turns = 2 + Math.floor(Math.random() * 3); // 2..4
  const extra = Math.floor(Math.random() * 360);
  const delta = turns * 360 + extra;

  const start = currentAngle;
  const end = currentAngle + delta;
  currentAngle = end; // –≤–∞–∂–Ω–æ–µ: —Å–æ—Ö—Ä–∞–Ω—è–µ–º –∏—Ç–æ–≥–æ–≤—ã–π —É–≥–æ–ª

  // –µ—Å–ª–∏ –≤–¥—Ä—É–≥ –ø—Ä–µ–¥—ã–¥—É—â–∞—è –∞–Ω–∏–º–∞—Ü–∏—è –µ—â—ë –∂–∏–≤–∞ ‚Äî –æ—Å—Ç–∞–Ω–æ–≤–∏–º
  if (anim) anim.cancel();

  // –ê–Ω–∏–º–∞—Ü–∏—è –≤—Ä–∞—â–µ–Ω–∏—è (easeOut, —á—Ç–æ–±—ã –æ—â—É—â–∞–ª–æ—Å—å –∫–∞–∫ ‚Äú–æ—Å—Ç–∞–Ω–æ–≤–∫–∞‚Äù)
  anim = spinner.animate(
    [
      { transform: `rotate(${start}deg)` },
      { transform: `rotate(${end}deg)` }
    ],
    {
      duration: 2000 + Math.floor(Math.random() * 1000),
      easing: "cubic-bezier(.2,.9,.2,1)",
      fill: "forwards"
    }
  );

  await anim.finished;

  // —Ñ–∏–∫—Å–∏—Ä—É–µ–º transform –∏–Ω–ª–∞–π–Ω–æ–º (–Ω–∞ —Å–ª—É—á–∞–π, –µ—Å–ª–∏ WebView –∫–∞–ø—Ä–∏–∑–Ω–∏—á–∞–µ—Ç)
  spinner.style.transform = `rotate(${end}deg)`;
}

btn.onclick=async()=>{
  btn.disabled=true;
  pred.textContent="‚Ä¶";
  status.textContent="–ö—Ä—É—Ç–∏–º —Å–ø–∏—Ä–∞–ª—å–∫—É‚Ä¶";

  await spinToNewAngle();

  pred.textContent=pick();
  status.textContent="–ì–æ—Ç–æ–≤–æ";
  btn.disabled=false;
};

/* ===== –°–ù–ï–ì ===== */
const c=document.getElementById("snow"),ctx=c.getContext("2d");
let w,h; const flakes=[];
function resize(){
  w=c.width=innerWidth;
  h=c.height=innerHeight;
}
resize(); addEventListener("resize",resize);

for(let i=0;i<120;i++){
  flakes.push({
    x:Math.random()*w,
    y:Math.random()*h,
    r:1+Math.random()*2,
    v:0.5+Math.random()*1.5
  });
}
(function snow(){
  ctx.clearRect(0,0,w,h);
  for(const f of flakes){
    f.y+=f.v;
    if(f.y>h) f.y=-10;
    ctx.beginPath();
    ctx.arc(f.x,f.y,f.r,0,Math.PI*2);
    ctx.fillStyle="#fff";
    ctx.fill();
  }
  requestAnimationFrame(snow);
})();
</script>

</body>
</html>



<!doctype html>
<html lang="ru">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>–ü—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–µ</title>

<style>
html,body{
  height:100%;
  margin:0;
  font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial;
  background: radial-gradient(1200px 800px at 20% 10%, #ffffff 0%, #fff7da 45%, #fff2c0 100%);
  overflow:hidden;
  color:#111;
}

/* ---------- –°–ù–ï–ì ---------- */
#snow{
  position:fixed;
  inset:0;
  z-index:0;
  pointer-events:none;
}

/* ---------- –§–û–ù ---------- */
.bg{
  position:fixed;
  inset:0;
  z-index:1;
  pointer-events:none;
}

.bg-lights{
  position:absolute;
  inset:0;
  width:100%;
  height:100%;
  opacity:0.9;
}

/* –Å–õ–ö–ê: —Ç–æ—Ä—á–∏—Ç —Å–±–æ–∫—É, –Ω–∞–∫–ª–æ–Ω–µ–Ω–∞ –∫ —Å–ø–∏—Ä–∞–ª—å–∫–µ, –æ–≥–æ–Ω—å–∫–∏ —Ä–∞–±–æ—Ç–∞—é—Ç */
.tree{
  position:absolute;

  /* –≤—ã–≥–ª—è–¥—ã–≤–∞–µ—Ç —Å–ª–µ–≤–∞ */
  left: -125px;

  /* –ø–æ–¥–Ω—è—Ç–∞ –≤—ã—à–µ */
  bottom: 240px;

  width: 210px;
  height:auto;

  /* üîÑ –Ω–∞–∫–ª–æ–Ω: –º–∞–∫—É—à–∫–∞ –≤ —Å—Ç–æ—Ä–æ–Ω—É —Å–ø–∏—Ä–∞–ª—å–∫–∏ */
  transform: rotate(15deg);

  /* –≤—Ä–∞—â–∞–µ–º –≤–æ–∫—Ä—É–≥ –æ—Å–Ω–æ–≤–∞–Ω–∏—è, –∞ –Ω–µ —Ü–µ–Ω—Ç—Ä–∞ */
  transform-origin: 65% 85%;

  opacity: 0.16;
  filter: drop-shadow(0 10px 18px rgba(0,0,0,0.10));
  pointer-events:none;
}

@media (min-width: 520px){
  .tree{
    left: -130px;
    bottom: 240px;
    width: 280px;
    opacity: 0.13;

    /* —É–≥–æ–ª –º–æ–∂–Ω–æ –æ—Å—Ç–∞–≤–∏—Ç—å —Ç–µ–º –∂–µ */
    transform: rotate(45deg);
  }
}


/* –æ–≥–æ–Ω—å–∫–∏ */
.light{ opacity:0.35; }
.l1{ fill:#ff4d4d; animation: twinkle 1.2s infinite; }
.l2{ fill:#4da3ff; animation: twinkle 1.1s infinite; animation-delay:.15s; }
.l3{ fill:#ffd24d; animation: twinkle 1.3s infinite; animation-delay:.28s; }
.l4{ fill:#6bff9d; animation: twinkle 1.15s infinite; animation-delay:.42s; }
.l5{ fill:#b56bff; animation: twinkle 1.25s infinite; animation-delay:.55s; }

@keyframes twinkle{
  0%,100%{ opacity:.25; filter:none; }
  50%{ opacity:.95; filter: drop-shadow(0 0 10px rgba(255,255,255,.55)); }
}

/* ---------- –ö–û–ù–¢–ï–ù–¢ ---------- */
.wrap{
  position:relative;
  z-index:2;
  height:100%;
  display:flex;
  align-items:center;
  justify-content:center;
  padding:20px;
  text-align:center;
  transform: translateY(-125px); /* –≤–µ—Å—å –±–ª–æ–∫ —á—É—Ç—å –≤—ã—à–µ */
}

.ui{
  width:min(560px,100%);
  display:flex;
  flex-direction:column;
  align-items:center;
  gap:14px;
}

h1{
  margin:0;
  font-size:20px;
  font-weight:800;
}

.subtitle{
  font-size:13px;
  opacity:.65;
}

/* ---------- –°–ü–ò–†–ê–õ–¨ ---------- */
.spiral-wrap{
  position:relative;
  width:230px;
  height:230px;
  display:grid;
  place-items:center;
  margin:10px 0;
  filter: drop-shadow(0 18px 40px rgba(0,0,0,0.12));
}

.ball{
  position:absolute;
  inset:10px;
  border-radius:50%;
  background:
    radial-gradient(circle at 30% 28%, rgba(255,255,255,.9), rgba(255,255,255,0) 45%),
    radial-gradient(circle at 55% 65%, #FFEFA3 0%, #FFD900 55%, #F5C400 100%);
}

.spinner{
  width:230px;
  height:230px;
  display:grid;
  place-items:center;
  transform-origin:50% 50%;
  will-change: transform;
  transform: rotate(0deg);
}

.spiral{
  width:210px;
  height:210px;
}

/* ---------- –¢–ï–ö–°–¢ ---------- */
.status{
  font-size:13px;
  opacity:.65;
  min-height:18px;
}

.pred{
  font-size:18px;
  font-weight:700;
  min-height:56px;
}

/* ---------- –ö–ù–û–ü–ö–ê ---------- */
.btn{
  width:min(360px,100%);
  border:0;
  border-radius:18px;
  padding:14px 16px;
  font-size:16px;
  font-weight:800;
  background:#111;
  color:#fff;
  cursor:pointer;
}
.btn:disabled{ opacity:.6; cursor:not-allowed; }
</style>
</head>

<body>
<canvas id="snow"></canvas>

<div class="bg" aria-hidden="true">
  <svg class="bg-lights" viewBox="0 0 1000 700" preserveAspectRatio="none">
    <defs>
      <radialGradient id="g1" cx="20%" cy="25%" r="60%">
        <stop offset="0%" stop-color="#ffffff" stop-opacity="0.70"/>
        <stop offset="55%" stop-color="#ffffff" stop-opacity="0.10"/>
        <stop offset="100%" stop-color="#ffffff" stop-opacity="0"/>
      </radialGradient>
      <radialGradient id="g2" cx="78%" cy="35%" r="70%">
        <stop offset="0%" stop-color="#ffffff" stop-opacity="0.50"/>
        <stop offset="60%" stop-color="#ffffff" stop-opacity="0.10"/>
        <stop offset="100%" stop-color="#ffffff" stop-opacity="0"/>
      </radialGradient>
    </defs>
    <rect width="1000" height="700" fill="url(#g1)"/>
    <rect width="1000" height="700" fill="url(#g2)"/>
  </svg>

  <!-- –Å–õ–ö–ê (–≤—ã–≥–ª—è–¥—ã–≤–∞–µ—Ç —Å–±–æ–∫—É) -->
  <svg class="tree" viewBox="0 0 260 340">
    <path d="M130 40 L55 150 H205 Z" fill="#2f7a40"/>
    <path d="M130 95 L40 230 H220 Z" fill="#2b6b3a"/>
    <path d="M130 155 L30 305 H230 Z" fill="#33884a"/>
    <rect x="112" y="300" width="36" height="40" rx="10" fill="#7a4b2a"/>

    <path d="M70 155 C95 130 115 170 145 150 C170 135 190 175 205 165"
          fill="none" stroke="rgba(255,255,255,0.35)" stroke-width="3" stroke-linecap="round"/>

    <circle class="light l1" cx="82" cy="150" r="6"/>
    <circle class="light l2" cx="110" cy="162" r="6"/>
    <circle class="light l3" cx="140" cy="150" r="6"/>
    <circle class="light l4" cx="168" cy="160" r="6"/>
    <circle class="light l5" cx="196" cy="165" r="6"/>
  </svg>
</div>

<div class="wrap">
  <div class="ui">
    <h1>–ü—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–µ –Ω–∞ –≥–æ–¥</h1>

    <div class="spiral-wrap">
      <div class="ball"></div>
      <div class="spinner" id="spinner">
        <svg class="spiral" viewBox="0 0 220 220">
          <path id="spiralPath" fill="none" stroke="#111" stroke-width="12"
                stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
      </div>
    </div>

    <div class="status" id="status">–ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É ‚Äî —Å–ø–∏—Ä–∞–ª—å–∫–∞ –ø—Ä–æ–∫—Ä—É—Ç–∏—Ç—Å—è</div>
    <div class="pred" id="pred">‚Ä¶</div>
    <button class="btn" id="btn">–ü–æ–ª—É—á–∏—Ç—å –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–µ</button>
  </div>
</div>

<script>
/* ===== –°–ü–ò–†–ê–õ–¨ ===== */
(function buildSpiral(){
  const cx=110, cy=110, a=2, b=3.55;
  const max=5.35*Math.PI, step=.1;
  let d="", first=true;

  for(let t=0;t<=max;t+=step){
    const r=a+b*t;
    const x=cx+r*Math.cos(t);
    const y=cy+r*Math.sin(t);
    d+=`${first?"M":"L"} ${x.toFixed(2)} ${y.toFixed(2)} `;
    first=false;
  }
  document.getElementById("spiralPath").setAttribute("d", d);
})();

/* ===== –ü–†–ï–î–°–ö–ê–ó–ê–ù–ò–Ø ===== */
const PRED = [
  "–ü–æ–ª—É—á–∏—Ç–µ ¬´–ü–ª–∞—Ç–∏–Ω—É¬ª –≤ —Ä–µ–π—Ç–∏–Ω–≥–µ.",
  "–ó–Ω–∞–µ–º, —É –≤–∞—Å –≤—Å—ë –±—É–¥–µ—Ç —Ö–æ—Ä–æ—à–æ.",
  "–Ø–Ω–¥–µ–∫—Å –ë–∞–π–∫ –ø–æ–º–æ–∂–µ—Ç –¥–æ—Å—Ç–∞–≤–ª—è—Ç—å –±–æ–ª—å—à–µ –∑–∞–∫–∞–∑–æ–≤.",
  "–í—Å—ë —Ç–æ–ª—å–∫–æ –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è.",
  "¬´–ü—É–±–ª–∏—á–Ω—ã–π –ø—Ä–æ—Ñ–∏–ª—å¬ª –ø–æ–¥–∞—Ä–∏—Ç –∫—É—á—É —ç–º–æ—Ü–∏–π.",
  "–í—Å—Ç—Ä–µ—Ç–∏—Ç–µ —Å–æ—Ç–Ω—é —Ä–æ–≤–µ—Ä–æ–≤.",
  "–û–±–Ω–æ–≤–∏—Ç–µ –∏–∑–Ω–æ—à–µ–Ω–Ω—É—é —Ç–µ—Ä–º–æ—Å—É–º–∫—É.",
  "–ü–µ—Ä–µ—á–∏—Ç–∞–µ—Ç–µ —Å—Ç–∞–Ω–¥–∞—Ä—Ç—ã —Å–µ—Ä–≤–∏—Å–∞.",
  "–ó–∞–∫—Ä–æ–µ—Ç–µ –ª–∏—á–Ω—ã–π —Ä–µ–∫–æ—Ä–¥ –ø–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤—É –∑–∞–∫–∞–∑–æ–≤.",
  "–ò—Å–ø–æ–ª–Ω–∏—Ç–µ —Å–≤–æ—é –º–µ—á—Ç—É.",
  "–ù–µ –æ—Å—Ç–∞–≤–∏—Ç–µ –∂–∏—Ç–µ–ª–µ–π –≥–æ–ª–æ–¥–∞ –±–µ–∑ –∑–∞–∫–∞–∑–æ–≤.",
  "–ó–∞–π–º—ë—Ç–µ –ø–µ—Ä–≤–æ–µ –º–µ—Å—Ç–æ –≤ –ª–∏–¥–µ—Ä–±–æ—Ä–¥–µ.",
  "–í—Å—Ç—Ä–µ—Ç–∏—Ç–µ –Ω–∞—Å—Ç–æ—è—â–µ–≥–æ –¥—Ä—É–≥–∞.",
  "–í—ã–ø—å–µ—Ç–µ —Å–∞–º—ã–π –≤–∫—É—Å–Ω—ã–π –∫–æ—Ñ–µ.",
  "–ù–µ –Ω–∞—Ä—É—à–∏—Ç–µ –Ω–∏ –æ–¥–Ω–æ–≥–æ –ø—Ä–∞–≤–∏–ª–∞ –¥–æ—Ä–æ–∂–Ω–æ–≥–æ –¥–≤–∏–∂–µ–Ω–∏—è.",
  "–û–±—Ä–∞—Ç–∏—Ç–µ—Å—å –∑–∞ –ø–æ–º–æ—â—å—é –∫ –≤–µ–ª–æ–ø–æ–º–æ—â–Ω–∏–∫–∞–º.",
  "–ë—É–¥–µ—Ç–µ –≤–Ω–∏–º–∞—Ç–µ–ª—å–Ω—ã –Ω–∞ –ø–µ—à–µ—Ö–æ–¥–Ω—ã—Ö –ø–µ—Ä–µ—Ö–æ–¥–∞—Ö.",
  "–í–æ—Å–ø–æ–ª—å–∑—É–µ—Ç–µ—Å—å –ø—Ä–æ–≥—Ä–∞–º–º–æ–π ¬´–ü—Ä–∏–≥–ª–∞—Å–∏—Ç–µ –¥—Ä—É–≥–∞¬ª –∏ —É–≤–µ–ª–∏—á–∏—Ç–µ –¥–æ—Ö–æ–¥.",
  "–û—Ç–∫—Ä–æ–µ—Ç–µ –ø—Ä–æ—Ñ–∏–ª—å –≤ ¬´–ü—É–±–ª–∏—á–Ω–æ–º –ø—Ä–æ—Ñ–∏–ª–µ¬ª.",
  "–ü–æ–ª—É—á–∏—Ç–µ —Å–∞–º—ã–µ —â–µ–¥—Ä—ã–µ —á–∞–µ–≤—ã–µ.",
  "–ë—É–¥–µ—Ç–µ –≤–µ–∂–ª–∏–≤—ã–º–∏ —Å –∫–ª–∏–µ–Ω—Ç–∞–º–∏ –∏ —Ä–µ—Å—Ç–æ—Ä–∞–Ω–∞–º–∏.",
  "–í—ã–ø–æ–ª–Ω–∏—Ç–µ —Å–∞–º—É—é –¥–µ–Ω–µ–∂–Ω—É—é –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—É—é —Ü–µ–ª—å.",
  "–ê—Ä–µ–Ω–¥—É–µ—Ç–µ —Å–∞–º—ã–π —è—Ä–∫–∏–π –Ø–Ω–¥–µ–∫—Å –ë–∞–π–∫."
];


const btn=document.getElementById("btn");
const pred=document.getElementById("pred");
const status=document.getElementById("status");
const spinner=document.getElementById("spinner");

let angle=0, anim=null;

btn.onclick=async()=>{
  btn.disabled=true;
  pred.textContent="‚Ä¶";
  status.textContent="–ö—Ä—É—Ç–∏–º —Å–ø–∏—Ä–∞–ª—å–∫—É‚Ä¶";

  const delta=(2+Math.random()*2)*360+Math.random()*360;
  const start=angle;
  angle+=delta;

  if(anim) anim.cancel();
  anim=spinner.animate(
    [{transform:`rotate(${start}deg)`},{transform:`rotate(${angle}deg)`}],
    {duration:2200+Math.random()*800,easing:"cubic-bezier(.2,.9,.2,1)",fill:"forwards"}
  );
  await anim.finished;
  spinner.style.transform=`rotate(${angle}deg)`;

  pred.textContent=PRED[Math.floor(Math.random()*PRED.length)];
  status.textContent="–ì–æ—Ç–æ–≤–æ";
  btn.disabled=false;
};

/* ===== –°–ù–ï–ì ===== */
const c = document.getElementById("snow"), ctx = c.getContext("2d");
let w, h;
const flakes = [];

let SNOW_OFFSET = 160; // ‚Üê —Å–∫–æ–ª—å–∫–æ –ø–∏–∫—Å–µ–ª–µ–π —Å–Ω–∏–∑—É –ë–ï–ó —Å–Ω–µ–≥–∞ (–ø–æ–¥–Ω–∏–º–∞–π/—É–º–µ–Ω—å—à–∞–π)

function resize(){
  w = c.width = innerWidth;
  h = c.height = innerHeight;
}
resize();
addEventListener("resize", resize);

// —Å–æ–∑–¥–∞—ë–º —Å–Ω–µ–∂–∏–Ω–∫–∏ —Ç–æ–ª—å–∫–æ –¥–æ –≥—Ä–∞–Ω–∏—Ü—ã (h - SNOW_OFFSET)
for (let i = 0; i < 120; i++){
  flakes.push({
    x: Math.random() * w,
    y: Math.random() * (h - SNOW_OFFSET),
    r: 1 + Math.random() * 2,
    v: 0.5 + Math.random() * 1.5
  });
}

(function snow(){
  ctx.clearRect(0, 0, w, h);

  const bottomLimit = h - SNOW_OFFSET;

  for (const f of flakes){
    f.y += f.v;

    // –µ—Å–ª–∏ —Å–Ω–µ–∂–∏–Ω–∫–∞ –¥–æ—à–ª–∞ –¥–æ "–Ω–∏–∂–Ω–µ–π –≥—Ä–∞–Ω–∏—Ü—ã" ‚Äî –æ—Ç–ø—Ä–∞–≤–ª—è–µ–º –Ω–∞–≤–µ—Ä—Ö
    if (f.y > bottomLimit) f.y = -10;

    ctx.beginPath();
    ctx.arc(f.x, f.y, f.r, 0, Math.PI * 2);
    ctx.fillStyle = "#fff";
    ctx.fill();
  }

  requestAnimationFrame(snow);
})();
</script>
</body>
</html>





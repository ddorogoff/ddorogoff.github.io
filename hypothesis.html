<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>–°—Ç–æ–∏—Ç –ª–∏ –ø–∏—Å–∞—Ç—å?</title>
  <style>
    body {
      font-family: 'Segoe UI', sans-serif;
      background: #f9f9f9;
      padding: 40px 20px;
      max-width: 600px;
      margin: auto;
    }
    h1 {
      font-size: 28px;
      text-align: center;
      margin-bottom: 30px;
    }
    .question {
      display: none;
      background: white;
      padding: 20px;
      border-radius: 12px;
      box-shadow: 0 2px 6px rgba(0,0,0,0.1);
      margin-bottom: 20px;
    }
    .question.active {
      display: block;
    }
    label {
      display: block;
      margin-bottom: 10px;
      font-weight: bold;
    }
    select, input[type="number"] {
      width: 100%;
      padding: 10px;
      font-size: 16px;
      border-radius: 8px;
      border: 1px solid #ccc;
      margin-bottom: 10px;
    }
    button {
      background-color: #4CAF50;
      color: white;
      border: none;
      padding: 12px 20px;
      font-size: 16px;
      border-radius: 8px;
      cursor: pointer;
      margin-top: 10px;
    }
    button:hover {
      background-color: #45a049;
    }
    #result {
      padding: 20px;
      border-radius: 10px;
      font-weight: bold;
      font-size: 18px;
    }
    .green { background-color: #d8fdd8; }
    .yellow { background-color: #fff8cc; }
    .red { background-color: #ffd8d8; }

    .progress {
      text-align: center;
      margin-bottom: 20px;
    }
  </style>
</head>
<body>
  <h1>–°—Ç–æ–∏—Ç –ª–∏ –ø–∏—Å–∞—Ç—å?</h1>
  <div class="progress">–í–æ–ø—Ä–æ—Å <span id="stepNum">1</span> –∏–∑ 6</div>
  
  <form id="checkForm">
    <div class="question active" data-step="1">
      <label>–ì–¥–µ –≤—ã —É–∑–Ω–∞–ª–∏ –æ–± –∏–Ω—Ñ–æ–ø–æ–≤–æ–¥–µ?</label>
      <select name="source" required>
        <option value="3">–ò–∑ –ø–µ—Ä–≤—ã—Ö —Ä—É–∫</option>
        <option value="2">–¢–µ–ª–µ–≥—Ä–∞–º/—Å–æ—Ü—Å–µ—Ç–∏</option>
        <option value="1">–ú–µ–¥–∏–∞ / –≤—Å–µ —É–∂–µ –ø–∏—à—É—Ç</option>
      </select>
      <button type="button" class="nextBtn">–î–∞–ª–µ–µ</button>
    </div>

    <div class="question" data-step="2">
      <label>–ö–æ–≥–¥–∞ –≤—ã —É–∑–Ω–∞–ª–∏ –æ –Ω—ë–º? (–≤ —á–∞—Å–∞—Ö –Ω–∞–∑–∞–¥)</label>
      <input type="number" name="hoursAgo" min="0" max="168" required />
      <button type="button" class="nextBtn">–î–∞–ª–µ–µ</button>
    </div>

    <div class="question" data-step="3">
      <label>–ö–∞–∫–æ–π —Ñ–æ—Ä–º–∞—Ç?</label>
      <select name="format" required>
        <option value="3">–ú–µ–º / –∫–æ—Ä–æ—Ç–∫–∏–π –ø–æ—Å—Ç</option>
        <option value="2">–ù–µ–±–æ–ª—å—à–æ–π –ø–æ—Å—Ç —Å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–º</option>
        <option value="1">–õ–æ–Ω–≥—Ä–∏–¥, —Å–ø–µ—Ü–ø—Ä–æ–µ–∫—Ç</option>
      </select>
      <button type="button" class="nextBtn">–î–∞–ª–µ–µ</button>
    </div>

    <div class="question" data-step="4">
      <label>–ï—Å—Ç—å –ª–∏ —É–Ω–∏–∫–∞–ª—å–Ω—ã–π —Ä–∞–∫—É—Ä—Å?</label>
      <select name="angle" required>
        <option value="3">–î–∞, —ç—Ç–æ –Ω–∞—à–∞ —ç–∫—Å–ø–µ—Ä—Ç–∏–∑–∞</option>
        <option value="2">–ú–æ–∂–Ω–æ –ø—Ä–∏–¥—É–º–∞—Ç—å</option>
        <option value="1">–ù–µ—Ç, –ø—Ä–æ—Å—Ç–æ –ø–æ–≤—Ç–æ—Ä—è–µ–º</option>
      </select>
      <button type="button" class="nextBtn">–î–∞–ª–µ–µ</button>
    </div>

    <div class="question" data-step="5">
      <label>–°–∫–æ–ª—å–∫–æ –≤—Ä–µ–º–µ–Ω–∏ –∑–∞–π–º—ë—Ç –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∞? (–≤ —á–∞—Å–∞—Ö)</label>
      <input type="number" name="effort" min="0" max="48" required />
      <button type="button" class="nextBtn">–î–∞–ª–µ–µ</button>
    </div>

    <div class="question" data-step="6">
      <label>–ö–∞–∫–æ–≤–∞ —Ü–µ–ª—å –ø—É–±–ª–∏–∫–∞—Ü–∏–∏?</label>
      <select name="goal" required>
        <option value="3">–¶–µ–Ω–Ω–æ –¥–ª—è —Ä–µ–ø—É—Ç–∞—Ü–∏–∏ / —ç–∫—Å–ø–µ—Ä—Ç–∏–∑—ã</option>
        <option value="2">–ù–µ–º–Ω–æ–≥–æ –æ—Ö–≤–∞—Ç–æ–≤ / –∏–Ω—Ñ–æ–ø–æ–¥–¥–µ—Ä–∂–∫–∞</option>
        <option value="1">–í—Å–µ –ø–∏—à—É—Ç ‚Äî –∏ –º—ã –Ω–∞–ø–∏—à–µ–º</option>
      </select>
      <button type="submit">–ü—Ä–æ–≤–µ—Ä–∏—Ç—å</button>
    </div>
  </form>

  <div id="result"></div>

  <script>
    const steps = document.querySelectorAll(".question");
    const nextBtns = document.querySelectorAll(".nextBtn");
    const stepNum = document.getElementById("stepNum");

    let currentStep = 0;

    nextBtns.forEach((btn, index) => {
      btn.addEventListener("click", () => {
        if (steps[index].querySelector("select, input").checkValidity()) {
          steps[index].classList.remove("active");
          steps[index + 1].classList.add("active");
          currentStep++;
          stepNum.textContent = currentStep + 1;
        } else {
          steps[index].querySelector("select, input").reportValidity();
        }
      });
    });

    document.getElementById('checkForm').addEventListener('submit', function(e) {
      e.preventDefault();

      const data = new FormData(e.target);
      let score = 0;

      score += parseInt(data.get('source'));
      score += parseInt(data.get('format'));
      score += parseInt(data.get('angle'));
      score += parseInt(data.get('goal'));

      const hoursAgo = parseInt(data.get('hoursAgo'));
      const effort = parseInt(data.get('effort'));

      if (hoursAgo <= 3) score += 3;
      else if (hoursAgo <= 12) score += 2;
      else if (hoursAgo <= 24) score += 1;

      if (effort <= 2) score += 3;
      else if (effort <= 6) score += 2;
      else score += 1;

      let resultText = '';
      let resultClass = '';

      if (score >= 17) {
        resultText = 'üí° –ü–æ—Å—Ç–∏—Ç–µ –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ ‚Äî —Ç–µ–º–∞ —Å–∏–ª—å–Ω–∞—è, —Ä–∞–∫—É—Ä—Å –µ—Å—Ç—å, —Ñ–æ—Ä–º–∞—Ç –ø–æ–¥—Ö–æ–¥—è—â–∏–π.';
        resultClass = 'green';
      } else if (score >= 13) {
        resultText = 'üßê –ú–æ–∂–Ω–æ –ø–æ—Å—Ç–∏—Ç—å, –Ω–æ –ø–æ–¥—É–º–∞–π—Ç–µ –Ω–∞–¥ –ø–æ–¥–∞—á–µ–π ‚Äî –µ—Å—Ç—å —á—Ç–æ —É–ª—É—á—à–∏—Ç—å.';
        resultClass = 'yellow';
      } else {
        resultText = 'üö´ –ù–µ —Å—Ç–æ–∏—Ç ‚Äî —Ü–µ–Ω–Ω–æ—Å—Ç–∏ –º–∞–ª–æ, –ø–æ—Ç—Ä–∞—Ç–∏—Ç–µ –≤—Ä–µ–º—è –∑—Ä—è.';
        resultClass = 'red';
      }

      const resultBlock = document.getElementById('result');
      resultBlock.textContent = resultText;
      resultBlock.className = resultClass;
    });
  </script>
</body>
</html>

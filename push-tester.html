<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <title>Push-тестер</title>
  <style>
    body {
      margin: 0;
      font-family: -apple-system, BlinkMacSystemFont, 'Roboto', sans-serif;
      background: #121212;
      color: #fff;
      display: flex;
      height: 100vh;
      overflow: hidden;
    }
    .container {
      display: flex;
      width: 100%;
    }
    .preview-area {
      flex: 1;
      background: #1e1e1e;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: flex-start;
      padding: 20px;
    }
    .control-area {
      width: 400px;
      background: #222;
      padding: 20px;
      display: flex;
      flex-direction: column;
      gap: 20px;
    }
    select, textarea {
      width: 100%;
      font-size: 16px;
      padding: 10px;
      border-radius: 8px;
      border: none;
      outline: none;
    }
    .push-preview {
      background: #fff;
      color: #000;
      border-radius: 16px;
      padding: 12px;
      margin-top: 40px;
      box-shadow: 0 0 12px rgba(0,0,0,0.3);
      font-size: 14px;
      display: flex;
      flex-direction: column;
      gap: 6px;
      width: 90%;
      max-width: 380px;
    }
    .push-header {
      display: flex;
      align-items: center;
      gap: 8px;
      font-weight: bold;
    }
    .push-header img {
      width: 20px;
      height: 20px;
      border-radius: 4px;
    }
    .push-title, .push-body {
      overflow: hidden;
      text-overflow: ellipsis;
      display: -webkit-box;
      -webkit-box-orient: vertical;
    }
    .push-title {
      font-weight: bold;
      font-size: 15px;
      -webkit-line-clamp: 1;
    }
    .push-body {
      font-size: 14px;
      color: #333;
      -webkit-line-clamp: 2;
    }
    .progress-container {
      height: 6px;
      background: #444;
      border-radius: 3px;
      overflow: hidden;
    }
    .progress-bar {
      height: 100%;
      background: #00c853;
      width: 0%;
      transition: width 0.2s;
    }
    .progress-bar.over {
      background: #d50000;
    }
    label {
      font-size: 14px;
      margin-bottom: 6px;
      display: block;
    }
  </style>
</head>
<body>
  <div class="container">
    <div class="preview-area">
      <label for="device-select">Выберите устройство:</label>
      <select id="device-select" onchange="updateDeviceSize()">
        <option value="iphone16">iPhone 16</option>
        <option value="iphone16pro">iPhone 16 Pro</option>
        <option value="samsung">Samsung Galaxy S23</option>
        <option value="huawei">Huawei P30</option>
      </select>
      <div id="push-preview" class="push-preview">
        <div class="push-header">
          <img src="https://avatars.mds.yandex.net/i?id=a6feb339a7435c9352e23cf14cefe89f_l-12394646-images-thumbs&n=13" alt="logo">
          <span>Яндекс Про</span>
        </div>
        <div class="push-title" id="preview-title">Заголовок</div>
        <div class="push-body" id="preview-body">Текст уведомления</div>
      </div>
    </div>
    <div class="control-area">
      <div>
        <label for="title-input">Заголовок (до 25 символов)</label>
        <textarea id="title-input" rows="2" maxlength="100"></textarea>
        <div class="progress-container">
          <div id="title-progress" class="progress-bar"></div>
        </div>
      </div>
      <div>
        <label for="body-input">Подзаголовок (до 100 символов)</label>
        <textarea id="body-input" rows="4" maxlength="200"></textarea>
        <div class="progress-container">
          <div id="body-progress" class="progress-bar"></div>
        </div>
      </div>
    </div>
  </div>
  <script>
    const titleInput = document.getElementById('title-input');
    const bodyInput = document.getElementById('body-input');
    const titlePreview = document.getElementById('preview-title');
    const bodyPreview = document.getElementById('preview-body');
    const titleProgress = document.getElementById('title-progress');
    const bodyProgress = document.getElementById('body-progress');
    const preview = document.getElementById('push-preview');

    function updateProgressBar(input, bar, limit) {
      const length = input.value.length;
      const percent = Math.min((length / limit) * 100, 100);
      bar.style.width = percent + '%';
      if (length > limit) {
        bar.classList.add('over');
      } else {
        bar.classList.remove('over');
      }
    }

    titleInput.addEventListener('input', () => {
      titlePreview.textContent = titleInput.value || 'Заголовок';
      updateProgressBar(titleInput, titleProgress, 25);
    });

    bodyInput.addEventListener('input', () => {
      bodyPreview.textContent = bodyInput.value || 'Текст уведомления';
      updateProgressBar(bodyInput, bodyProgress, 100);
    });

    function updateDeviceSize() {
      const device = document.getElementById('device-select').value;
      switch (device) {
        case 'iphone16':
          preview.style.width = '360px';
          break;
        case 'iphone16pro':
          preview.style.width = '393px';
          break;
        case 'samsung':
          preview.style.width = '412px';
          break;
        case 'huawei':
          preview.style.width = '360px';
          break;
        default:
          preview.style.width = '360px';
      }
    }

    updateDeviceSize();
  </script>
</body>
</html>

from pathlib import Path

# Обновлённый push-тестер с переносом подзаголовка и расширенным списком устройств
push_tester_updated = """
<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <title>Push-тестер</title>
  <style>
    body {
      margin: 0;
      font-family: -apple-system, BlinkMacSystemFont, 'Roboto', sans-serif;
      background: #121212;
      color: #fff;
      display: flex;
      height: 100vh;
      overflow: hidden;
    }
    .container {
      display: flex;
      width: 100%;
    }
    .preview-area {
      flex: 1;
      background: #1e1e1e;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: flex-start;
      padding: 20px;
    }
    .control-area {
      width: 400px;
      background: #222;
      padding: 20px;
      display: flex;
      flex-direction: column;
      gap: 20px;
    }
    select, textarea {
      width: 100%;
      font-size: 16px;
      padding: 10px;
      border-radius: 8px;
      border: none;
      outline: none;
    }
    .push-preview {
      background: #fff;
      color: #000;
      border-radius: 16px;
      padding: 12px;
      margin-top: 40px;
      box-shadow: 0 0 12px rgba(0,0,0,0.3);
      font-size: 14px;
      display: flex;
      flex-direction: column;
      gap: 6px;
    }
    .push-header {
      display: flex;
      align-items: center;
      gap: 8px;
      font-weight: bold;
    }
    .push-header img {
      width: 20px;
      height: 20px;
      border-radius: 4px;
    }
    .push-title, .push-body {
      overflow: hidden;
      text-overflow: ellipsis;
      display: -webkit-box;
      -webkit-box-orient: vertical;
    }
    .push-title {
      font-weight: bold;
      font-size: 15px;
      -webkit-line-clamp: 1;
    }
    .push-body {
      font-size: 14px;
      color: #333;
      -webkit-line-clamp: 2;
    }
    .progress-container {
      height: 6px;
      background: #444;
      border-radius: 3px;
      overflow: hidden;
    }
    .progress-bar {
      height: 100%;
      background: #00c853;
      width: 0%;
      transition: width 0.2s;
    }
    .progress-bar.over {
      background: #d50000;
    }
    label {
      font-size: 14px;
      margin-bottom: 6px;
      display: block;
    }

    /* Устройства */
    .iphone5se .push-preview { width: 320px; }
    .iphonese2022 .push-preview { width: 375px; }
    .iphone13mini .push-preview { width: 360px; }
    .iphone14pro .push-preview { width: 393px; }
    .iphone16 .push-preview { width: 360px; }
    .iphone16pro .push-preview { width: 393px; }
    .samsung-s21 .push-preview { width: 412px; }
    .samsung-a52 .push-preview { width: 385px; }
    .pixel6 .push-preview { width: 412px; }
    .xiaomi-note11 .push-preview { width: 393px; }
    .huawei .push-preview { width: 360px; }
  </style>
</head>
<body>
  <div class="container">
    <div class="preview-area">
      <label for="device-select">Выберите устройство:</label>
      <select id="device-select" onchange="updateDeviceSize()">
        <option value="iphone5se">iPhone 5 SE</option>
        <option value="iphonese2022">iPhone SE (2022)</option>
        <option value="iphone13mini">iPhone 13 mini</option>
        <option value="iphone14pro">iPhone 14 Pro</option>
        <option value="iphone16">iPhone 16</option>
        <option value="iphone16pro">iPhone 16 Pro</option>
        <option value="samsung-s21">Samsung Galaxy S21</option>
        <option value="samsung-a52">Samsung Galaxy A52</option>
        <option value="pixel6">Google Pixel 6</option>
        <option value="xiaomi-note11">Xiaomi Redmi Note 11</option>
        <option value="huawei">Huawei P30</option>
      </select>
      <div id="push-preview" class="push-preview">
        <div class="push-header">
          <img src="https://avatars.mds.yandex.net/i?id=a6feb339a7435c9352e23cf14cefe89f_l-12394646-images-thumbs&n=13" alt="logo">
          <span>Яндекс Про</span>
        </div>
        <div class="push-title" id="preview-title">Заголовок</div>
        <div class="push-body" id="preview-body">Текст уведомления</div>
      </div>
    </div>
    <div class="control-area">
      <div>
        <label for="title-input">Заголовок (до 25 символов)</label>
        <textarea id="title-input" rows="2" maxlength="100"></textarea>
        <div class="progress-container">
          <div id="title-progress" class="progress-bar"></div>
        </div>
      </div>
      <div>
        <label for="body-input">Подзаголовок (до 100 символов)</label>
        <textarea id="body-input" rows="4" maxlength="200"></textarea>
        <div class="progress-container">
          <div id="body-progress" class="progress-bar"></div>
        </div>
      </div>
    </div>
  </div>
  <script>
    const titleInput = document.getElementById('title-input');
    const bodyInput = document.getElementById('body-input');
    const titlePreview = document.getElementById('preview-title');
    const bodyPreview = document.getElementById('preview-body');
    const titleProgress = document.getElementById('title-progress');
    const bodyProgress = document.getElementById('body-progress');
    const previewWrapper = document.getElementById('push-preview');
    const deviceSelect = document.getElementById('device-select');

    function updateProgressBar(input, bar, limit) {
      const length = input.value.length;
      const percent = Math.min((length / limit) * 100, 100);
      bar.style.width = percent + '%';
      bar.classList.toggle('over', length > limit);
    }

    titleInput.addEventListener('input', () => {
      titlePreview.textContent = titleInput.value || 'Заголовок';
      updateProgressBar(titleInput, titleProgress, 25);
    });

    bodyInput.addEventListener('input', () => {
      bodyPreview.textContent = bodyInput.value || 'Текст уведомления';
      updateProgressBar(bodyInput, bodyProgress, 100);
    });

    function updateDeviceSize() {
      const frame = document.querySelector('.preview-area');
      const selected = deviceSelect.value;
      frame.className = 'preview-area ' + selected;
    }

    updateDeviceSize();
  </script>
</body>
</html>
"""

# Сохраняем обновлённый HTML
file_path = Path("/mnt/data/push_tester_extended.html")
file_path.write_text(push_tester_updated, encoding="utf-8")
file_path

